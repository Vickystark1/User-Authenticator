{"version":3,"names":["createElement","h","Component","PropTypes","uppy","uppyPropType","UppyWrapper","constructor","arguments","refContainer","container","componentDidMount","installPlugin","componentDidUpdate","prevProps","props","uninstallPlugin","componentWillUnmount","plugin","pluginObj","getPlugin","mount","_temp","unmount","render","className","ref","propTypes","isRequired","string"],"sources":["Wrapper.ts"],"sourcesContent":["import { createElement as h, Component } from 'react'\nimport type { Body, Meta } from '@uppy/utils/lib/UppyFile'\nimport type { UIPlugin, Uppy } from '@uppy/core'\nimport PropTypes from 'prop-types'\nimport { uppy as uppyPropType } from './propTypes.ts'\n\ninterface UppyWrapperProps<M extends Meta, B extends Body> {\n  uppy: Uppy<M, B>\n  plugin: string\n}\n\nclass UppyWrapper<M extends Meta, B extends Body> extends Component<\n  UppyWrapperProps<M, B>\n> {\n  static propTypes = {\n    uppy: uppyPropType.isRequired,\n    plugin: PropTypes.string.isRequired,\n  }\n\n  private container: HTMLDivElement\n\n  componentDidMount(): void {\n    this.installPlugin()\n  }\n\n  componentDidUpdate(prevProps: UppyWrapperProps<M, B>): void {\n    const { uppy } = this.props\n    if (prevProps.uppy !== uppy) {\n      this.uninstallPlugin(prevProps)\n      this.installPlugin()\n    }\n  }\n\n  componentWillUnmount(): void {\n    this.uninstallPlugin()\n  }\n\n  private refContainer = (container: UppyWrapper<M, B>['container']) => {\n    this.container = container\n  }\n\n  installPlugin(): void {\n    const { plugin, uppy } = this.props\n    const pluginObj = uppy.getPlugin(plugin) as UIPlugin<any, M, B>\n\n    pluginObj.mount(this.container, pluginObj)\n  }\n\n  uninstallPlugin({ uppy } = this.props): void {\n    const { plugin } = this.props\n    ;(uppy.getPlugin(plugin) as UIPlugin<any, M, B>).unmount()\n  }\n\n  render(): ReturnType<typeof h> {\n    return h('div', { className: 'uppy-Container', ref: this.refContainer })\n  }\n}\n\nexport default UppyWrapper\n"],"mappings":"AAAA,SAASA,aAAa,IAAIC,CAAC,EAAEC,SAAS,QAAQ,OAAO;AAGrD,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,IAAI,IAAIC,YAAY,QAAQ,gBAAgB;AAOrD,MAAMC,WAAW,SAAyCJ,SAAS,CAEjE;EAAAK,YAAA;IAAA,SAAAC,SAAA;IAAA,KAwBQC,YAAY,GAAIC,SAAyC,IAAK;MACpE,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B,CAAC;EAAA;EAlBDC,iBAAiBA,CAAA,EAAS;IACxB,IAAI,CAACC,aAAa,CAAC,CAAC;EACtB;EAEAC,kBAAkBA,CAACC,SAAiC,EAAQ;IAC1D,MAAM;MAAEV;IAAK,CAAC,GAAG,IAAI,CAACW,KAAK;IAC3B,IAAID,SAAS,CAACV,IAAI,KAAKA,IAAI,EAAE;MAC3B,IAAI,CAACY,eAAe,CAACF,SAAS,CAAC;MAC/B,IAAI,CAACF,aAAa,CAAC,CAAC;IACtB;EACF;EAEAK,oBAAoBA,CAAA,EAAS;IAC3B,IAAI,CAACD,eAAe,CAAC,CAAC;EACxB;EAMAJ,aAAaA,CAAA,EAAS;IACpB,MAAM;MAAEM,MAAM;MAAEd;IAAK,CAAC,GAAG,IAAI,CAACW,KAAK;IACnC,MAAMI,SAAS,GAAGf,IAAI,CAACgB,SAAS,CAACF,MAAM,CAAwB;IAE/DC,SAAS,CAACE,KAAK,CAAC,IAAI,CAACX,SAAS,EAAES,SAAS,CAAC;EAC5C;EAEAH,eAAeA,CAAAM,KAAA,EAA8B;IAAA,IAA7B;MAAElB;IAAK,CAAC,GAAAkB,KAAA,cAAG,IAAI,CAACP,KAAK,GAAAO,KAAA;IACnC,MAAM;MAAEJ;IAAO,CAAC,GAAG,IAAI,CAACH,KAAK;IAC3BX,IAAI,CAACgB,SAAS,CAACF,MAAM,CAAC,CAAyBK,OAAO,CAAC,CAAC;EAC5D;EAEAC,MAAMA,CAAA,EAAyB;IAC7B,OAAOvB,CAAC,CAAC,KAAK,EAAE;MAAEwB,SAAS,EAAE,gBAAgB;MAAEC,GAAG,EAAE,IAAI,CAACjB;IAAa,CAAC,CAAC;EAC1E;AACF;AA7CMH,WAAW,CAGRqB,SAAS,GAAG;EACjBvB,IAAI,EAAEC,YAAY,CAACuB,UAAU;EAC7BV,MAAM,EAAEf,SAAS,CAAC0B,MAAM,CAACD;AAC3B,CAAC;AAyCH,eAAetB,WAAW"}